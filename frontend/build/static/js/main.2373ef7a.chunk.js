(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.22335927.svg"},24:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(21),i=a.n(o),r=(a(33),a(6)),l=a(3),s=a(2),u=a(9),m=a(22),p=a.n(m);function d(e){var t=e.loggedIn,a=e.email,n=e.onloginOut,o="/sign-in"===Object(s.m)().pathname?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438",i=t?"\u0412\u044b\u0439\u0442\u0438":o;return c.a.createElement("header",{className:"header"},c.a.createElement("img",{className:"header__logo",src:p.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u041c\u0435\u0441\u0442\u043e"}),c.a.createElement("div",{className:"header__links"},c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/sign-up",element:c.a.createElement(u.b,{to:"/sign-in",className:"header__link header__button"},"\u0412\u043e\u0439\u0442\u0438")}),c.a.createElement(s.b,{path:"/sign-in",element:c.a.createElement(u.b,{to:"/sign-up",className:"header__link header__button"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")}),c.a.createElement(s.b,{path:"/",element:c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"header__email"},a),c.a.createElement("button",{className:"header__link header__button",onClick:n},i))}))))}var _=Object(n.createContext)();function h(e){var t=e.myid,a=e.card,n=e.onCardlike,o=a.likes.some((function(e){return t===e._id}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",className:"elements__like-button ".concat(o?"elements__like-button_active":""),onClick:function(){return n(a)}}),c.a.createElement("span",{className:"elements__counter"},a.likes.length))}function b(e){var t,a=e.card,o=e.onCardElement,i=e.onDeleteCard,r=e.onCardlike,l=Object(n.useContext)(_),s=l._id===(null===(t=a.owner)||void 0===t?void 0:t._id);return c.a.createElement("div",{className:"elements__card"},s&&c.a.createElement("button",{type:"button",className:"elements__trash-button",onClick:function(){return i(a._id)}}),c.a.createElement("img",{className:"elements__image",src:a.link,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f ".concat(a.name),onClick:function(){return o({link:a.link,name:a.name})}}),c.a.createElement("div",{className:"elements__description"},c.a.createElement("h2",{className:"elements__description-title"},a.name),c.a.createElement("div",{className:"elements__container"},c.a.createElement(h,{card:a,myid:l._id,onCardlike:r}))))}function f(e){var t=e.onEditProfile,a=e.onEditeAvatar,o=e.onAddPlace,i=e.onCardElement,r=e.onDeleteCard,l=e.cards,s=e.onCardlike,u=Object(n.useContext)(_);return c.a.createElement("main",null,c.a.createElement("section",{className:"profile"},c.a.createElement("div",{className:"profile__description"},c.a.createElement("button",{className:"button-image-overlay profile__image-overlay",type:"button",onClick:a},c.a.createElement("img",{className:"profile__image",src:u.avatar?u.avatar:"#",alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435"})),c.a.createElement("div",{className:"profile__block"},c.a.createElement("h1",{className:"profile__name"},u.name?u.name:""),c.a.createElement("button",{type:"button",className:"profile__button-edit",onClick:t}),c.a.createElement("p",{className:"profile__subtitle"},u.about?u.about:""))),c.a.createElement("button",{type:"button",className:"profile__button-add",onClick:o})),c.a.createElement("section",{className:"elements"},l.map((function(e){return c.a.createElement(b,{key:e._id,card:e,onCardElement:i,onDeleteCard:r,onCardlike:s})}))))}function g(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__copyright"},"\xa9 2023 Mesto Russia"))}function E(e){var t=e.card,a=e.isOpen,n=e.onClose;return c.a.createElement("div",{className:"popup popup_open-images ".concat(a?"popup_opened":""),onClick:n},c.a.createElement("div",{className:"popup__container popup__container_open-image",onClick:function(e){return e.stopPropagation()}},c.a.createElement("button",{type:"button",className:"popup__button-close",onClick:n}),c.a.createElement("img",{className:"popup__image-full",src:t.link,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f ".concat(t.name)}),c.a.createElement("p",{className:"popup__image-signature"},t.name)))}var v=a(5),O=a(7),k=a(8),j=new(function(){function e(t){Object(O.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(k.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status," ").concat(e.statusText))}},{key:"getInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}}).then(this._checkResponse)}},{key:"getCards",value:function(e){return fetch("".concat(this._url,"/cards"),{headers:{Authorization:"Bearer ".concat(e)}}).then(this._checkResponse)}},{key:"getUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:Object(v.a)(Object(v.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({name:e.username,about:e.subtitle})}).then(this._checkResponse)}},{key:"setAvatar",value:function(e,t){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:Object(v.a)(Object(v.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({avatar:e.image})}).then(this._checkResponse)}},{key:"addCards",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:Object(v.a)(Object(v.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({name:e.title,link:e.link})}).then(this._checkResponse)}},{key:"addLike",value:function(e,t){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}}).then(this._checkResponse)}},{key:"deleteLike",value:function(e,t){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then(this._checkResponse)}},{key:"deleteCard",value:function(e,t){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then(this._checkResponse)}}]),e}())({baseUrl:"http://localhost:3000",headers:{"Content-Type":"application/json"}}),C=new(function(){function e(t){Object(O.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(k.a)(e,[{key:"_getResponse",value:function(e){return e.ok?e.json():Promise.reject}},{key:"registration",value:function(e){return fetch("".concat(this._url,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._getResponse)}},{key:"login",value:function(e){return fetch("".concat(this._url,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._getResponse)}},{key:"checkToken",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(v.a)(Object(v.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._getResponse)}}]),e}())({baseUrl:"http://localhost:3000",headers:{"Content-Type":"application/json"}}),N=a(4);function y(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),i=Object(l.a)(o,2),r=i[0],s=i[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),p=m[0],d=m[1],_=Object(n.useState)({}),h=Object(l.a)(_,2),b=h[0],f=h[1];return{listValue:a,errorMessages:r,isValidInput:b,isValid:p,handleChange:function(e){var t=e.target.name,a=e.target.value,n=e.target.validationMessage,o=e.target.validity.valid,i=e.target.form;c((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(N.a)({},t,a))})),s((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(N.a)({},t,n))})),f((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(N.a)({},t,o))})),d(i.checkValidity())},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(e),s({}),d(!1),f({})},setListValues:Object(n.useCallback)((function(e,t){c((function(a){return Object(v.a)(Object(v.a)({},a),{},Object(N.a)({},e,t))}))}),[])}}function S(e){var t=e.name,a=e.title,n=e.titleButton,o=e.children,i=e.isOpen,r=e.onClose,l=e.onSubmit,s=e.isValid,u=void 0===s||s;return c.a.createElement("div",{className:"popup popup_type_".concat(t," ").concat(i?"popup_opened":""),onClick:r},c.a.createElement("div",{className:"popup__container",onClick:function(e){return e.stopPropagation()}},c.a.createElement("button",{type:"button",className:"popup__button-close",onClick:r}),c.a.createElement("form",{className:"popup__form",name:t,noValidate:!0,onSubmit:l},c.a.createElement("h2",{className:"popup__name"},a),o,c.a.createElement("button",{type:"submit",className:"popup__submit-button ".concat(u?"":"popup__submit-button_disabled")},n||"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}function w(e){var t=e.isOpen,a=e.onClose,o=e.onUpDateUser,i=Object(n.useContext)(_),r=y(),l=r.listValue,s=r.errorMessages,u=r.isValidInput,m=r.isValid,p=r.handleChange,d=r.reset,h=r.setListValues;return Object(n.useEffect)((function(){h("username",i.name),h("subtitle",i.about)}),[i,t,h]),c.a.createElement(S,{name:"edite-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:t,onClose:function(){a(),d()},isValid:m,onSubmit:function(e){e.preventDefault(),o({username:l.username,subtitle:l.subtitle},d)}},c.a.createElement("input",{id:"username-input",type:"text",className:"popup__input popup__input_type_username ".concat(void 0===u.username||u.username?"":"popup__input_invalid"),name:"username",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",minLength:2,maxLength:40,required:"",value:l.username?l.username:"",onChange:p}),c.a.createElement("span",{className:"popup__input-error"},s.username),c.a.createElement("input",{id:"subtitle-input",type:"text",className:"popup__input popup__input_type_subtitle ".concat(void 0===u.subtitle||u.subtitle?"":"popup__input_invalid"),name:"subtitle",placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435",minLength:2,maxLength:200,required:"",value:l.subtitle?l.subtitle:"",onChange:p}),c.a.createElement("span",{className:"popup__input-error"},s.subtitle))}function z(e){var t=e.isOpen,a=e.onClose,o=e.onUpdateAvatar,i=Object(n.useRef)(),r=y(),l=r.listValue,s=r.errorMessages,u=r.isValidInput,m=r.isValid,p=r.handleChange,d=r.reset;return c.a.createElement(S,{name:"edit-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:t,isValid:m,onClose:function(){a(),d()},onSubmit:function(e){e.preventDefault(),o({image:i.current.value},d)}},c.a.createElement("input",{ref:i,id:"image-input",type:"url",className:"popup__input popup__input_type_url ".concat(void 0===u.image||u.image?"":"popup__input_invalid"),name:"image",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,value:l.image?l.image:"",onChange:p}),c.a.createElement("span",{id:"image-input-error",className:"popup__input-error"},s.image))}function V(e){var t=e.isOpen,a=e.onClose,n=e.onAddPlace,o=y(),i=o.listValue,r=o.errorMessages,l=o.isValidInput,s=o.isValid,u=o.handleChange,m=o.reset;return c.a.createElement(S,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",titleButton:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,isValid:s,onClose:function(){a(),m()},onSubmit:function(e){e.preventDefault(),n({title:i.title,link:i.link},m)}},c.a.createElement("input",{id:"title-input",type:"text",className:"popup__input popup__input_type_title ".concat(void 0===l.title||l.title?"":"popup__input_invalid"),name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:2,maxLength:30,required:!0,value:i.title?i.title:"",onChange:u}),c.a.createElement("span",{id:"title-input-error",className:"popup__input-error"},r.title),c.a.createElement("input",{id:"link-input",type:"url",className:"popup__input popup__input_type_link ".concat(void 0===l.link||l.link?"":"popup__input_invalid"),name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,value:i.link?i.link:"",onChange:u}),c.a.createElement("span",{id:"link-input-error",className:"popup__input-error"},r.link))}function L(e){var t=e.isOpen,a=e.onClose,n=e.onSubmit,o=e.cardid;return c.a.createElement(S,{name:"delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",titleButton:"\u0414\u0430",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n(o)}})}function A(e){var t=e.onLogin,a=y(),n=a.listValue,o=a.errorMessages,i=a.isValidInput,r=a.isValid,l=a.handleChange,s=a.reset;return c.a.createElement("div",{className:"authorize"},c.a.createElement("h3",{className:"authorize__title"},"\u0412\u0445\u043e\u0434"),c.a.createElement("form",{name:"login",className:"authorize__form",onSubmit:function(e){e.preventDefault(),t(n),s()},noValidate:!0},c.a.createElement("div",{className:"authorize__container"},c.a.createElement("input",{id:"email",type:"email",className:"authorize__input ".concat(void 0===i.email||i.email?"":"authorize__input_invalid"),name:"email",value:n.email?n.email:"",placeholder:"Email",onChange:l,required:!0}),c.a.createElement("span",{className:"authorize__input-error"},o.email),c.a.createElement("input",{id:"password",type:"password",className:"authorize__input ".concat(void 0===i.password||i.password?"":"authorize__input_invalid"),name:"password",value:n.password?n.password:"",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:3,maxLength:24,onChange:l,required:!0}),c.a.createElement("span",{className:"authorize__input-error"},o.password)),c.a.createElement("button",{type:"submit",className:"authorize__submit-button ".concat(r?"":"authorize__submit-button_disabled"),disabled:!r},"\u0412\u043e\u0439\u0442\u0438")))}function P(e){var t=e.onRegistration,a=y(),n=a.listValue,o=a.errorMessages,i=a.isValidInput,r=a.isValid,l=a.handleChange,s=a.reset;return c.a.createElement("div",{className:"authorize"},c.a.createElement("h3",{className:"authorize__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement("form",{name:"register",className:"authorize__form",onSubmit:function(e){e.preventDefault(),t(n),s()},noValidate:!0},c.a.createElement("div",{className:"authorize__container"},c.a.createElement("input",{id:"email",type:"email",className:"authorize__input ".concat(void 0===i.email||i.email?"":"authorize__input_invalid"),name:"email",value:n.email?n.email:"",placeholder:"Email",onChange:l,required:!0}),c.a.createElement("span",{className:"authorize__input-error"},o.email),c.a.createElement("input",{id:"password",type:"password",className:"authorize__input ".concat(void 0===i.password||i.password?"":"authorize__input_invalid"),name:"password",value:n.password?n.password:"",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:3,maxLength:24,onChange:l,required:!0}),c.a.createElement("span",{className:"authorize__input-error"},o.password)),c.a.createElement("button",{type:"submit",className:"authorize__submit-button ".concat(r?"":"authorize__submit-button_disabled"),disabled:!r},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),c.a.createElement(u.b,{to:"/sign-in",className:"authorize__link"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"))}var T=a(23),I=["element"];function R(e){var t=e.element,a=Object(T.a)(e,I);return a.loggedIn?c.a.createElement(t,a):c.a.createElement(s.a,{to:"/sign-in",replace:!0})}function x(e){var t=e.name,a=e.successful,n=e.isOpen,o=e.onClose;return c.a.createElement("div",{className:"popup popup_".concat(t," ").concat(n?"popup_opened":"")},c.a.createElement("div",{className:"popup__container_successful"},c.a.createElement("div",{className:"popup__successful ".concat(a?"popup__successful_type_complete":"popup__successful_type_fail")}),c.a.createElement("h2",{className:"popup__title"},a?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"),c.a.createElement("button",{type:"button",className:"popup__button-close",onClick:o})))}var D=function(){var e=Object(s.o)(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],i=a[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),p=m[0],h=m[1],b=Object(n.useState)(!1),v=Object(l.a)(b,2),O=v[0],k=v[1],N=Object(n.useState)({}),y=Object(l.a)(N,2),S=y[0],T=y[1],I=Object(n.useState)(!1),D=Object(l.a)(I,2),B=D[0],U=D[1],q=Object(n.useState)(!1),M=Object(l.a)(q,2),J=M[0],F=M[1],H=Object(n.useState)({}),G=Object(l.a)(H,2),K=G[0],Q=G[1],W=Object(n.useState)(""),X=Object(l.a)(W,2),Y=X[0],Z=X[1],$=Object(n.useState)([]),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(l.a)(ne,2),oe=ce[0],ie=ce[1],re=Object(n.useState)(!1),le=Object(l.a)(re,2),se=le[0],ue=le[1],me=Object(n.useState)(""),pe=Object(l.a)(me,2),de=pe[0],_e=pe[1],he=Object(n.useState)(!1),be=Object(l.a)(he,2),fe=be[0],ge=be[1],Ee=Object(n.useState)(!0),ve=Object(l.a)(Ee,2),Oe=ve[0],ke=ve[1],je=Object(n.useState)(!1),Ce=Object(l.a)(je,2),Ne=Ce[0],ye=Ce[1],Se=Object(n.useCallback)((function(){i(!1),h(!1),F(!1),k(!1),U(!1),ye(!1)}),[]),we=Object(n.useCallback)((function(e){"Escape"===e.key&&ze()}),[]),ze=Object(n.useCallback)((function(){Se(),document.removeEventListener("keydown",we)}),[Se,we]);function Ve(){document.addEventListener("keydown",we)}Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");t&&C.checkToken(t).then((function(t){t&&(ue(!0),_e(t.email),e("/"))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 ".concat(e))}))}),[e]),Object(n.useEffect)((function(){localStorage.jwt?C.checkToken(localStorage.jwt).then((function(t){Z(t.email),ue(!0),ke(!1),e("/")})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0432\u0445\u043e\u0434\u0430 ".concat(e))})):(ke(!1),ue(!1))}),[e]),Object(n.useEffect)((function(){se&&Promise.all([j.getInfo(localStorage.jwt),j.getCards(localStorage.jwt)]).then((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];Q(a),ae(n.reverse())})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a ".concat(e))}))}),[se]);var Le=Object(n.useCallback)((function(e){e.likes.some((function(e){return K._id===e._id}))?j.deleteLike(e._id,localStorage.jwt).then((function(t){ae((function(a){return a.map((function(a){return a._id===e._id?t:a}))}))})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043b\u0430\u0439\u043a\u0430 ".concat(e))})):j.addLike(e._id,localStorage.jwt).then((function(t){ae((function(a){return a.map((function(a){return a._id===e._id?t:a}))}))})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043b\u0430\u0439\u043a\u0430 ".concat(e))}))}),[K._id]);return c.a.createElement(_.Provider,{value:K},c.a.createElement("div",{className:"page__content"},c.a.createElement(d,{loggedIn:se,onloginOut:function(){ue(!1),localStorage.removeItem("jwt"),_e("")},email:de}),c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/sign-up",element:c.a.createElement(P,{isCheckToken:Oe,onRegistration:function(t,a){C.registration(t,a).then((function(t){ge(!0),e("/sign-in")})).catch((function(e){ge(!1),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 ".concat(e))})).finally((function(){return ye(!0)}))}})}),c.a.createElement(s.b,{path:"/sign-in",element:c.a.createElement(A,{isCheckToken:Oe,onLogin:function(t,a){C.login(t,a).then((function(t){localStorage.setItem("jwt",t.token),e("/"),_e(t.email),ue(!0)})).catch((function(e){ge(!1),ye(!0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 ".concat(e))}))}})}),c.a.createElement(s.b,{path:"*",element:c.a.createElement(s.a,{to:se?"/":"/sign-in"})}),c.a.createElement(s.b,{path:"/",element:c.a.createElement(R,{element:f,onEditProfile:function(){i(!0),Ve()},onEditeAvatar:function(){h(!0),Ve()},onAddPlace:function(){k(!0),Ve()},onCardElement:function(e){T(e),U(!0),Ve()},onCardlike:Le,onDeleteCard:function(e){ie(e),F(!0),Ve()},cards:te,isCheckToken:Oe,loggedIn:se,dataUser:Y})})),se&&c.a.createElement(g,null),c.a.createElement(w,{onUpDateUser:function(e,t){j.getUserInfo(e,localStorage.jwt).then((function(e){Q(e),ze(),t()})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f ".concat(e))}))},isOpen:o,onClose:ze}),c.a.createElement(z,{onUpdateAvatar:function(e,t){j.setAvatar(e,localStorage.jwt).then((function(e){Q(e),ze(),t()})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u0432\u0430\u0442\u0430\u0440\u0430 ".concat(e))}))},isOpen:p,onClose:ze}),c.a.createElement(V,{onAddPlace:function(e,t){j.addCards(e,localStorage.jwt).then((function(e){ae([e].concat(Object(r.a)(te))),ze(),t()})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 ".concat(e))}))},isOpen:O,onClose:ze}),c.a.createElement(L,{isOpen:J,onClose:ze,onSubmit:function(){j.deleteCard(oe,localStorage.jwt).then((function(){ae(te.filter((function(e){return e._id!==oe}))),ze()})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 ".concat(e))}))}}),c.a.createElement(E,{card:S,isOpen:B,onClose:ze}),c.a.createElement(x,{name:"result",isOpen:Ne,onClose:ze,successful:fe})))},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,35)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(c.a.createElement(u.a,null,c.a.createElement(D,null))),B()}},[[24,1,2]]]);
//# sourceMappingURL=main.2373ef7a.chunk.js.map