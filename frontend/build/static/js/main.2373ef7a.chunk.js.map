{"version":3,"sources":["images/logo.svg","components/Header/Header.jsx","contexts/CurrentUserContext.js","components/ButtonLikes/ButtonLikes.jsx","components/Card/Card.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","components/ImagePopup/ImagePopup.jsx","utils/api.js","utils/auth.js","utils/useFormValidation.js","components/PopupWithForm/PopupWithForm.jsx","components/EditProfilePopup/EditProfilePopup.jsx","components/EditAvatarPopup/EditAvatarPopup.jsx","components/AddPlacePopup/AddPlacePopup.jsx","components/DeleteCardPopup/DeleteCardPopup.jsx","components/Login/Login.jsx","components/Register/Register.jsx","components/ProtectedRoute/ProtectedRoute.jsx","components/InfoTooltip/InfoTooltip.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","Header","_ref","loggedIn","email","onloginOut","linkHeader","useLocation","pathname","buttonHeader","React","createElement","className","src","logo","alt","Routes","Route","path","element","Link","to","Fragment","onClick","CurrentUserContext","createContext","ButtonLikes","myid","card","onCardlike","isLikes","likes","some","item","_id","type","concat","length","Card","_card$owner","onCardElement","onDeleteCard","currentUser","useContext","isOwn","owner","link","name","Main","onEditProfile","onEditeAvatar","onAddPlace","cards","avatar","about","map","data","key","Footer","ImagePopup","isOpen","onClose","evt","stopPropagation","api","Api","options","_classCallCheck","this","_url","baseUrl","_headers","headers","_createClass","value","res","ok","json","Promise","reject","status","statusText","token","fetch","then","_checkResponse","method","_objectSpread","body","JSON","stringify","username","subtitle","image","title","cardId","auth","Auth","_getResponse","useFormValidation","_useState","useState","_useState2","_slicedToArray","listValue","setListValue","_useState3","_useState4","errorMessages","setErrorMessages","_useState5","_useState6","isValid","setIsValid","_useState7","_useState8","isValidInput","setIsValidInput","handleChange","target","validationMessage","valid","validity","form","oldListValue","_defineProperty","oldErrorMessages","oldIsValidInput","checkValidity","reset","arguments","undefined","setListValues","useCallback","PopupWithForm","titleButton","children","onSubmit","_ref$isValid","noValidate","EditProfilePopup","onUpDateUser","_useFormValidation","useEffect","preventDefault","id","placeholder","minLength","maxLength","required","onChange","EditAvatarPopup","onUpdateAvatar","input","useRef","current","ref","AddPlacePopup","DeleteCardPopup","cardid","Login","onLogin","password","disabled","Register","onRegistration","ProtectedRoute","Component","props","_objectWithoutProperties","_excluded","Navigate","replace","InfoTooltip","successful","App","navigate","useNavigate","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isCardSelect","setCardSelect","_useState9","_useState10","isImagePopup","setIsImagePopup","_useState11","_useState12","isDeletePopupOpen","setDeletePopupOpen","_useState13","_useState14","setCurrentUser","_useState15","_useState16","dataUser","setDataUser","_useState17","_useState18","setCards","_useState19","_useState20","isDeleteCards","setDeleteCards","_useState21","_useState22","setLoggedIn","_useState23","_useState24","userEmail","setUserEmail","_useState25","_useState26","isInfoTooltip","setInfoTooltip","_useState27","_useState28","isCheckToken","setCheckToken","_useState29","_useState30","resultPopup","setResultPopup","setStateClosePopup","closePopupByEsc","closePopups","document","removeEventListener","setEvantListenerForKeydown","addEventListener","jwt","localStorage","getItem","checkToken","catch","err","console","log","all","getInfo","getCards","_ref2","dataCard","reverse","error","handleLikes","deleteLike","addLike","Provider","removeItem","registration","finally","login","setItem","getUserInfo","setAvatar","addCards","_toConsumableArray","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","BrowserRouter"],"mappings":"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","file":"static/js/main.2373ef7a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.22335927.svg\";","import React from 'react'\r\nimport { Link, Route, Routes, useLocation } from 'react-router-dom'\r\nimport logo from '../../images/logo.svg'\r\nexport default function Header({ loggedIn, email, onloginOut}) {\r\n\r\n  const location = useLocation()\r\n  const linkHeader = location.pathname === \"/sign-in\" ? \"Регистрация\" : \"Войти\"\r\n  const buttonHeader = loggedIn ? \"Выйти\" : linkHeader\r\n\r\n  return (\r\n\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Место\" />\r\n      <div className= \"header__links\">\r\n        <Routes>\r\n            <Route\r\n              path='/sign-up'\r\n              element={<Link to='/sign-in' className=\"header__link header__button\">Войти</Link>\r\n              }\r\n            />\r\n            <Route\r\n              path='/sign-in'\r\n              element={<Link to='/sign-up' className=\"header__link header__button\">Регистрация</Link>}\r\n            />\r\n            <Route\r\n              path=\"/\"\r\n              element={\r\n                <>\r\n                  <p className=\"header__email\">{email}</p>\r\n                  <button className=\"header__link header__button\" onClick={onloginOut}>{buttonHeader}</button>\r\n                </>\r\n              }\r\n            />\r\n          </Routes>\r\n      </div>\r\n    </header>\r\n  )\r\n}","import { createContext } from \"react\";\r\n\r\nconst CurrentUserContext = createContext()\r\n\r\nexport default CurrentUserContext","import React from \"react\";\r\nexport default function ButtonLikes({ myid, card, onCardlike }) {\r\n\r\n  const isLikes = card.likes.some(item => myid === item._id)\r\n  \r\n  return (\r\n    <>\r\n      <button type=\"button\" className={`elements__like-button ${isLikes ? 'elements__like-button_active' : ''}`} onClick={() => onCardlike(card)} />\r\n      <span className=\"elements__counter\">{card.likes.length}</span>\r\n    </>\r\n  )\r\n}","import React from \"react\"\r\nimport { useContext } from \"react\"\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\"\r\nimport ButtonLikes from \"../ButtonLikes/ButtonLikes.jsx\"\r\n\r\nexport default function Card({ card, onCardElement, onDeleteCard, onCardlike }) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n    \r\n    const isOwn = currentUser._id === card.owner?._id;\r\n\r\n    return (\r\n        <div className=\"elements__card\">\r\n            {isOwn && <button type=\"button\" className=\"elements__trash-button\" onClick={() => onDeleteCard(card._id)} />}\r\n            <img className=\"elements__image\"\r\n                src={card.link}\r\n                alt={`Фотография ${card.name}`}\r\n                onClick={() => onCardElement({ link: card.link, name: card.name })} />\r\n\r\n            <div className=\"elements__description\">\r\n                <h2 className=\"elements__description-title\">{card.name}</h2>\r\n                <div className=\"elements__container\">\r\n                <ButtonLikes\r\n                    card={card}\r\n                    myid={currentUser._id}\r\n                    onCardlike={onCardlike}\r\n                />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\"\r\nimport { useContext } from \"react\"\r\nimport Card from \"../Card/Card.jsx\"\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\"\r\n\r\nexport default function Main({ onEditProfile, onEditeAvatar, onAddPlace, onCardElement, onDeleteCard, cards, onCardlike }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext)\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__description\">\r\n                    <button className=\"button-image-overlay profile__image-overlay\" type=\"button\" onClick={onEditeAvatar}>\r\n                        <img\r\n                            className=\"profile__image\"\r\n                            src={currentUser.avatar ? currentUser.avatar : '#'}\r\n                            alt=\"Фотография в профиле\"\r\n                        />\r\n                    </button>\r\n                    <div className=\"profile__block\">\r\n                        <h1 className=\"profile__name\">{currentUser.name ? currentUser.name : ''}</h1>\r\n                        <button type=\"button\" className=\"profile__button-edit\" onClick={onEditProfile} />\r\n                        <p className=\"profile__subtitle\">{currentUser.about ? currentUser.about : ''}</p>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__button-add\" onClick={onAddPlace} />\r\n            </section>\r\n            <section className=\"elements\">\r\n                {cards.map(data => {\r\n                    return (\r\n                        <Card\r\n                            key={data._id}\r\n                            card={data}\r\n                            onCardElement={onCardElement}\r\n                            onDeleteCard={onDeleteCard}\r\n                            onCardlike={onCardlike}\r\n                        />\r\n                    )\r\n                })}\r\n            </section>\r\n        </main>\r\n    )\r\n};","import React from \"react\";\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">© 2023 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}","import React from \"react\";\r\nexport default function ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div className={`popup popup_open-images ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\r\n      <div className=\"popup__container popup__container_open-image\" onClick={(evt => evt.stopPropagation())}>\r\n        <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\r\n        <img className=\"popup__image-full\" src={card.link} alt={`Фотография ${card.name}`} />\r\n        <p className=\"popup__image-signature\">{card.name}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n    constructor(options) {\r\n        this._url = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`)\r\n    }\r\n\r\n    getInfo(token) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: {\r\n                \"Authorization\" : `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    getCards(token) {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    getUserInfo(data, token) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                ...this._headers,\r\n                \"Authorization\": `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.username,\r\n                about: data.subtitle,\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    setAvatar(data, token) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                ...this._headers,\r\n                \"Authorization\": `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: data.image,\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    addCards(data, token) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                ...this._headers,\r\n                \"Authorization\": `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.title,\r\n                link: data.link,\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    addLike(cardId, token) {\r\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n            method: `PUT`,\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    deleteLike(cardId, token) {\r\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n            method: `DELETE`,\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    deleteCard(cardId, token) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: `DELETE`,\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'http://localhost:3000',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n}); \r\n\r\nexport default api;","class Auth {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  };\r\n  \r\n  _getResponse(res) {return res.ok ? res.json() : Promise.reject}\r\n  \r\n    registration(data) {\r\n      return fetch(`${this._url}/signup`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      })\r\n      .then(this._getResponse)\r\n    };\r\n  \r\n    login(data) {\r\n      return fetch(`${this._url}/signin`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      })\r\n      .then(this._getResponse)\r\n    };\r\n  \r\n    checkToken(token) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n          ...this._headers,\r\n          \"Authorization\" : `Bearer ${token}`,\r\n        }\r\n      })\r\n      .then(this._getResponse)\r\n    };\r\n  };\r\n  \r\n  const auth = new Auth({\r\n    baseUrl: 'http://localhost:3000',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n  \r\n  export default auth;","import { useCallback, useState } from \"react\";\r\n\r\nexport default function useFormValidation() {\r\n  const [listValue, setListValue] = useState({})\r\n  const [errorMessages, setErrorMessages] = useState({})\r\n  const [isValid, setIsValid] = useState(false)\r\n  const [isValidInput, setIsValidInput] = useState({})\r\n\r\n  function handleChange(evt) {\r\n    const name = evt.target.name\r\n    const value = evt.target.value\r\n    const validationMessage = evt.target.validationMessage\r\n    const valid = evt.target.validity.valid\r\n    const form = evt.target.form\r\n\r\n    setListValue((oldListValue) => {\r\n      return { ...oldListValue, [name]: value };\r\n    });\r\n\r\n    setErrorMessages((oldErrorMessages) => {\r\n      return { ...oldErrorMessages, [name]: validationMessage };\r\n    });\r\n\r\n    setIsValidInput((oldIsValidInput) => {\r\n      return { ...oldIsValidInput, [name]: valid };\r\n    });\r\n\r\n    setIsValid(form.checkValidity())\r\n  }\r\n\r\n  function reset(data = {}) {\r\n    setListValue(data)\r\n    setErrorMessages({})\r\n    setIsValid(false)\r\n    setIsValidInput({})\r\n  }\r\n\r\n  const setListValues = useCallback((name, value) => {\r\n    setListValue((oldListValue) => {\r\n      return { ...oldListValue, [name]: value }\r\n    })\r\n  }, [])\r\n\r\n  return { listValue, errorMessages, isValidInput, isValid, handleChange, reset, setListValues }\r\n}","import React from \"react\";\r\nexport default function PopupWithForm({ name, title, titleButton, children, isOpen, onClose, onSubmit, isValid = true }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\r\n      <div className=\"popup__container\" onClick={(evt => evt.stopPropagation())}>\r\n        <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\r\n        <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\r\n          <h2 className=\"popup__name\">{title}</h2>\r\n          {children}\r\n          <button type=\"submit\" className={`popup__submit-button ${isValid ? '' : 'popup__submit-button_disabled'}`}>\r\n            {titleButton || 'Сохранить'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation.js\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm.jsx\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\"\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpDateUser }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { listValue, errorMessages, isValidInput, isValid, handleChange, reset, setListValues } = useFormValidation()\r\n\r\n  useEffect(() => {\r\n    setListValues(\"username\", currentUser.name)\r\n    setListValues(\"subtitle\", currentUser.about)\r\n  }, [currentUser, isOpen, setListValues])\r\n\r\n  function resetAfterClose() {\r\n    onClose()\r\n    reset()\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onUpDateUser({ username: listValue.username, subtitle: listValue.subtitle }, reset)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='edite-profile'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={resetAfterClose}\r\n      isValid={isValid}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input id=\"username-input\" type=\"text\" className={`popup__input popup__input_type_username ${isValidInput.username === undefined || isValidInput.username ? '' : 'popup__input_invalid'}`} name=\"username\" placeholder=\"Введите имя\" minLength={2} maxLength={40} required=\"\"\r\n        value={listValue.username ? listValue.username : ''}\r\n        onChange={handleChange}\r\n      />\r\n      <span className=\"popup__input-error\">{errorMessages.username}</span>\r\n      <input id=\"subtitle-input\" type=\"text\" className={`popup__input popup__input_type_subtitle ${isValidInput.subtitle === undefined || isValidInput.subtitle ? '' : 'popup__input_invalid'}`} name=\"subtitle\" placeholder=\"Расскажите о себе\" minLength={2} maxLength={200} required=\"\"\r\n        value={listValue.subtitle ? listValue.subtitle : ''}\r\n        onChange={handleChange}\r\n      />\r\n      <span className=\"popup__input-error\">{errorMessages.subtitle}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport { useRef } from \"react\"\r\nimport useFormValidation from \"../../utils/useFormValidation.js\"\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm.jsx\"\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const input = useRef()\r\n    const { listValue, errorMessages, isValidInput, isValid, handleChange, reset } = useFormValidation()\r\n\r\n    function resetAfterClose() {\r\n      onClose()\r\n      reset()\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n      evt.preventDefault()\r\n      onUpdateAvatar({image: input.current.value}, reset)\r\n    }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name='edit-avatar'\r\n        title='Обновить аватар'\r\n        isOpen={isOpen}\r\n        isValid={isValid}\r\n        onClose = {resetAfterClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input ref={input} id=\"image-input\" type=\"url\" className={`popup__input popup__input_type_url ${isValidInput.image === undefined || isValidInput.image ? '' : 'popup__input_invalid'}`} name=\"image\" placeholder=\"Ссылка на картинку\" required\r\n          value={listValue.image ? listValue.image : ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span id=\"image-input-error\" className=\"popup__input-error\">{errorMessages.image}</span>\r\n      </PopupWithForm>\r\n    )\r\n}","import React from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n\r\n  const { listValue, errorMessages, isValidInput, isValid, handleChange, reset } = useFormValidation()\r\n\r\n  function resetAfterClose() {\r\n    onClose()\r\n    reset()\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onAddPlace({ title: listValue.title, link: listValue.link }, reset)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='add-card'\r\n      title='Новое место'\r\n      titleButton='Создать'\r\n      isOpen={isOpen}\r\n      isValid={isValid}\r\n      onClose={resetAfterClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input id=\"title-input\" type=\"text\" className={`popup__input popup__input_type_title ${isValidInput.title === undefined || isValidInput.title ? '' : 'popup__input_invalid'}`} name=\"title\" placeholder=\"Название\" minLength={2} maxLength={30} required\r\n        value={listValue.title ? listValue.title : ''}\r\n        onChange={handleChange}\r\n      />\r\n      <span id=\"title-input-error\" className=\"popup__input-error\">{errorMessages.title}</span>\r\n      <input id=\"link-input\" type=\"url\" className={`popup__input popup__input_type_link ${isValidInput.link === undefined || isValidInput.link ? '' : 'popup__input_invalid'}`} name=\"link\" placeholder=\"Ссылка на картинку\" required\r\n        value={listValue.link ? listValue.link : ''}\r\n        onChange={handleChange}\r\n      />\r\n      <span id=\"link-input-error\" className=\"popup__input-error\">{errorMessages.link}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function DeleteCardPopup({ isOpen, onClose, onSubmit, cardid}) {\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault()\r\n        onSubmit(cardid)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n          name='delete'\r\n          title='Вы уверены?'\r\n          titleButton='Да'\r\n          isOpen={isOpen}\r\n          onClose={onClose}\r\n          onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation\";\r\n\r\nexport default function Login({ onLogin }) {\r\n\r\n    const { listValue, errorMessages, isValidInput, isValid, handleChange, reset} = useFormValidation()\r\n  \r\n    function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      onLogin(listValue);\r\n      reset();\r\n    };\r\n  \r\n    return (\r\n      <div className=\"authorize\">\r\n        <h3 className=\"authorize__title\">Вход</h3>\r\n        <form name=\"login\" className=\"authorize__form\" onSubmit={handleSubmit} noValidate>\r\n          <div className=\"authorize__container\">\r\n            <input id=\"email\" type=\"email\" className={`authorize__input ${isValidInput.email === undefined || isValidInput.email ? '' : 'authorize__input_invalid'}`} name=\"email\" value={listValue.email ? listValue.email : ''} placeholder=\"Email\" onChange={handleChange} required \r\n            />\r\n            <span className=\"authorize__input-error\">\r\n                {errorMessages.email}\r\n            </span>\r\n            <input id=\"password\" type=\"password\" className={`authorize__input ${isValidInput.password === undefined || isValidInput.password ? '' : 'authorize__input_invalid'}`} name=\"password\" value={listValue.password ? listValue.password : ''} placeholder=\"Пароль\" minLength={3} maxLength={24} onChange={handleChange} required\r\n              />\r\n            <span className=\"authorize__input-error\">\r\n                {errorMessages.password}\r\n            </span>\r\n          </div>\r\n          <button type=\"submit\" className={`authorize__submit-button ${isValid ? '' : 'authorize__submit-button_disabled'}`} disabled={!isValid}>Войти</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useFormValidation from \"../../utils/useFormValidation\";\r\n\r\nexport default function Register({ onRegistration }) {\r\n\r\n    const { listValue, errorMessages, isValidInput, isValid, handleChange, reset} = useFormValidation()\r\n  \r\n    function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      onRegistration(listValue);\r\n      reset();\r\n    };\r\n  \r\n    return (\r\n      <div className=\"authorize\">\r\n        <h3 className=\"authorize__title\">Регистрация</h3>\r\n        <form name=\"register\" className=\"authorize__form\" onSubmit={handleSubmit} noValidate>\r\n          <div className=\"authorize__container\">\r\n            <input id=\"email\" type=\"email\" className={`authorize__input ${isValidInput.email === undefined || isValidInput.email ? '' : 'authorize__input_invalid'}`} name=\"email\" value={listValue.email ? listValue.email : ''} placeholder=\"Email\" onChange={handleChange} required\r\n            />\r\n            <span className=\"authorize__input-error\">\r\n                {errorMessages.email}\r\n            </span>\r\n            <input id=\"password\" type=\"password\" className={`authorize__input ${isValidInput.password === undefined || isValidInput.password ? '' : 'authorize__input_invalid'}`} name=\"password\" value={listValue.password ? listValue.password : ''} placeholder=\"Пароль\" minLength={3} maxLength={24} onChange={handleChange} required\r\n              />\r\n            <span className=\"authorize__input-error\">\r\n                {errorMessages.password}\r\n            </span>\r\n          </div>\r\n          <button type=\"submit\" className={`authorize__submit-button ${isValid ? '' : 'authorize__submit-button_disabled'}`} disabled={!isValid}>Зарегистрироваться</button>\r\n        </form>\r\n        <Link to=\"/sign-in\" className=\"authorize__link\">Уже зарегистрированы? Войти</Link>\r\n      </div>\r\n    )\r\n  }","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ element: Component, ...props }) {\r\n    return (\r\n        props.loggedIn ? \r\n        <Component {...props} />\r\n        : <Navigate to='/sign-in' replace />\r\n    )\r\n  };","import React from \"react\";\r\nexport default function InfoTooltip({ name, successful, isOpen, onClose }) {\r\n\r\n    return (\r\n      \r\n      <div className={`popup popup_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n        <div className=\"popup__container_successful\">\r\n          <div className={`popup__successful ${successful ? 'popup__successful_type_complete' : 'popup__successful_type_fail'}`}>\r\n          </div>\r\n          <h2 className=\"popup__title\">\r\n            {successful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!Попробуйте еще раз'}\r\n          </h2>\r\n          <button type=\"button\" className=\"popup__button-close\" onClick={onClose}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React from \"react\";\r\nimport Header from './Header/Header.jsx';\r\nimport Main from './Main/Main.jsx';\r\nimport Footer from './Footer/Footer.jsx';\r\nimport ImagePopup from './ImagePopup/ImagePopup.jsx';\r\nimport { useCallback, useState, useEffect } from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\r\nimport api from '../utils/api.js';\r\nimport auth from '../utils/auth.js';\r\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.jsx';\r\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.jsx';\r\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.jsx';\r\nimport DeleteCardPopup from './DeleteCardPopup/DeleteCardPopup.jsx'\r\nimport Login from './Login/Login.jsx'\r\nimport Register from './Register/Register.jsx'\r\nimport { Navigate, Route, Routes, useNavigate } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute/ProtectedRoute.jsx';\r\nimport InfoTooltip from './InfoTooltip/InfoTooltip.jsx'\r\n\r\nfunction App() {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\r\n\r\n  const [isCardSelect, setCardSelect] = useState({})\r\n  const [isImagePopup, setIsImagePopup] = useState(false)\r\n\r\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false)\r\n\r\n  const [currentUser, setCurrentUser] = useState({})\r\n  const [dataUser, setDataUser] = useState('')\r\n  \r\n  const [cards, setCards] = useState([])\r\n  const [isDeleteCards, setDeleteCards] = useState('')\r\n\r\n\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [userEmail, setUserEmail] = useState('')\r\n  const [isInfoTooltip, setInfoTooltip] = useState(false)\r\n  const [isCheckToken, setCheckToken] = useState(true)\r\n  const [resultPopup, setResultPopup] = useState(false)\r\n\r\n  const setStateClosePopup = useCallback(() => {\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsEditAvatarPopupOpen(false)\r\n    setDeletePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsImagePopup(false)\r\n    setResultPopup(false)\r\n  }, [])\r\n\r\n  const closePopupByEsc = useCallback((evt) => {\r\n    if (evt.key === \"Escape\") {\r\n      closePopups();\r\n    }\r\n  }, []);\r\n\r\n  const closePopups = useCallback(() => {\r\n    setStateClosePopup()\r\n    document.removeEventListener('keydown', closePopupByEsc)\r\n  }, [setStateClosePopup, closePopupByEsc])\r\n\r\n  function setEvantListenerForKeydown() {\r\n    document.addEventListener('keydown', closePopupByEsc)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      auth.checkToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setUserEmail(res.email);\r\n            navigate('/');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Ошибка при проверке токена ${err}`);\r\n        });\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.jwt) {\r\n      auth.checkToken(localStorage.jwt)\r\n        .then(res => {\r\n          setDataUser(res.email)\r\n          setLoggedIn(true)\r\n          setCheckToken(false)\r\n          navigate('/')\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Ошибка авторизации повторного входа ${err}`)\r\n        });\r\n    } else {\r\n      setCheckToken(false)\r\n      setLoggedIn(false)\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      Promise.all([api.getInfo(localStorage.jwt), api.getCards(localStorage.jwt)])\r\n        .then(([dataUser, dataCard]) => {\r\n          setCurrentUser(dataUser)\r\n          setCards(dataCard.reverse());\r\n        })\r\n        .catch((err) => console.error(`Ошибка загрузки начальных данных и карточек ${err}`));\r\n      }\r\n  }, [loggedIn])\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n    setEvantListenerForKeydown()\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n    setEvantListenerForKeydown()\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n    setEvantListenerForKeydown()\r\n  }\r\n\r\n  function handleCardsClick(card) {\r\n    setCardSelect(card)\r\n    setIsImagePopup(true)\r\n    setEvantListenerForKeydown()\r\n  }\r\n\r\n  function handleDeletePopup(cardId) {\r\n    setDeleteCards(cardId)\r\n    setDeletePopupOpen(true)\r\n    setEvantListenerForKeydown()\r\n  }\r\n\r\n  function handleRegistration(password, email) {\r\n    auth.registration(password, email)\r\n     .then(res => {\r\n        setInfoTooltip(true)\r\n        navigate('/sign-in')\r\n     })\r\n     .catch((err) => {\r\n      setInfoTooltip(false)\r\n      console.log(`Ошибка регистрации ${err}`)\r\n     })\r\n     .finally(() => setResultPopup(true))\r\n  }\r\n\r\n  function handleLogin(password, email) {\r\n    auth.login(password, email)\r\n     .then(res => {\r\n        localStorage.setItem('jwt', res.token)\r\n        navigate('/')\r\n        setUserEmail(res.email)\r\n        setLoggedIn(true)\r\n     })\r\n     .catch((err) => {\r\n      setInfoTooltip(false)\r\n      setResultPopup(true)\r\n      console.log(`Ошибка авторизации ${err}`)\r\n     })\r\n  }\r\n\r\n  function onloginOut() {\r\n    setLoggedIn(false)\r\n    localStorage.removeItem('jwt')\r\n    setUserEmail('')\r\n  }\r\n\r\n  function handleUpDateUser(dataUser, reset) {\r\n    api.getUserInfo(dataUser, localStorage.jwt)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closePopups();\r\n        reset();\r\n      })\r\n      .catch((err) => console.error(`Ошибка редактирования профиля ${err}`));\r\n  }\r\n\r\n  function handleUpDateAvatar(dataUser, reset) {\r\n    api.setAvatar(dataUser, localStorage.jwt)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closePopups();\r\n        reset();\r\n      })\r\n      .catch((err) => console.error(`Ошибка обновления аватара ${err}`));\r\n  }\r\n\r\n  function handleAddCards(dataCard, reset) {\r\n    api.addCards(dataCard, localStorage.jwt)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closePopups();\r\n        reset();\r\n      })\r\n      .catch((err) => console.error(`Ошибка добавления карточки ${err}`));\r\n  }\r\n\r\n  const handleLikes = useCallback((card) => {\r\n    const isLikes = card.likes.some(item => currentUser._id === item._id)\r\n    if (isLikes) {\r\n    api.deleteLike(card._id, localStorage.jwt)\r\n      .then(res => {\r\n        setCards(cards => cards.map((element) => element._id === card._id ? res : element))\r\n      })\r\n      .catch((err) => console.error(`Ошибка удаления лайка ${err}`)) \r\n    } else {\r\n      api.addLike(card._id, localStorage.jwt)\r\n        .then(res => {\r\n          setCards(cards => cards.map((element) => element._id === card._id ? res : element))\r\n        })\r\n        .catch((err) => console.error(`Ошибка установки лайка ${err}`))\r\n    }\r\n  }, [currentUser._id])\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(isDeleteCards, localStorage.jwt)\r\n      .then(() => {\r\n        setCards(cards.filter((element) => element._id !== isDeleteCards));\r\n        closePopups();\r\n      })\r\n      .catch((err) => console.error(`Ошибка удаления карточки ${err}`));\r\n  }\r\n\r\n  return (\r\n\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page__content\">\r\n\r\n        <Header\r\n          loggedIn={loggedIn}\r\n          onloginOut={onloginOut}\r\n          email={userEmail}\r\n        />\r\n\r\n        <Routes>\r\n          <Route \r\n            path='/sign-up'\r\n            element={<Register isCheckToken={isCheckToken} onRegistration={handleRegistration}/>}\r\n          />\r\n          <Route \r\n            path='/sign-in'\r\n            element={<Login isCheckToken={isCheckToken} onLogin={handleLogin}/>}\r\n          />\r\n          <Route \r\n            path='*'\r\n            element={<Navigate to={loggedIn ? '/' : '/sign-in'}/>}\r\n          />\r\n          <Route \r\n            path='/'\r\n            element={\r\n              <ProtectedRoute\r\n                element={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onEditeAvatar={handleEditAvatarClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardElement={handleCardsClick}\r\n                onCardlike={handleLikes}\r\n                onDeleteCard={handleDeletePopup}\r\n                cards={cards}\r\n                isCheckToken={isCheckToken}\r\n                loggedIn={loggedIn}\r\n                dataUser={dataUser}\r\n            />}\r\n          />\r\n        </Routes>\r\n        \r\n        {loggedIn && <Footer/>}\r\n\r\n        <EditProfilePopup\r\n          onUpDateUser={handleUpDateUser}\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closePopups}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          onUpdateAvatar={handleUpDateAvatar}\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closePopups}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          onAddPlace={handleAddCards}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closePopups}\r\n        />\r\n\r\n        <DeleteCardPopup\r\n          isOpen={isDeletePopupOpen}\r\n          onClose={closePopups}\r\n          onSubmit={handleCardDelete}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={isCardSelect}\r\n          isOpen={isImagePopup}\r\n          onClose={closePopups}\r\n        />\r\n\r\n        <InfoTooltip\r\n          name='result'\r\n          isOpen={resultPopup}\r\n          onClose={closePopups}\r\n          successful={isInfoTooltip}\r\n        />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './components/App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}